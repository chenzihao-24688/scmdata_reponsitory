DECLARE
  v_abnormal_code VARCHAR2(32);
BEGIN
  v_abnormal_code := scmdata.pkg_plat_comm.f_getkeycode(pi_table_name  => 't_abnormal',
                                                        pi_column_name => 'abnormal_code',
                                                        pi_company_id  => %default_company_id%,
                                                        pi_pre         => 'ABN',
                                                        pi_serail_num  => '6');

  INSERT INTO t_abnormal
    (abnormal_id,
     company_id,
     abnormal_code,
     order_id,
     progress_status,
     goo_id,
     anomaly_class,
     problem_class,
     cause_class,
     detailed_reasons,
     delay_date,
     delay_amount,
     responsible_party,
     responsible_dept,
     is_deduction,
     deduction_unit_price,
     file_id,
     applicant_id,
     applicant_date,
     create_id,
     create_time,
     origin,
     origin_id,
     memo)
  VALUES
    (scmdata.f_get_uuid(),
     %default_company_id%,
     v_abnormal_code,
     :order_id_pr,
     :progress_status_pr,
     :goo_id_pr,
     :anomaly_class_pr,
     :problem_class_pr,
     :cause_class_pr,
     :detailed_reasons_pr,
     :delay_date_pr,
     :delay_amount_pr,
     :responsible_party_pr,
     :responsible_dept_pr,
     :is_deduction_pr,
     :deduction_unit_price_pr,
     :file_id,
     :user_id,
     SYSDATE,
     :user_id,
     SYSDATE,
     'II',
     '',
     '');
END;
